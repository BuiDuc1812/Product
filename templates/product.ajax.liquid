{% layout none %}
{
    "id":{{ product.id }},
    "title":"{{ product.title }}",
    "handle":"{{ product.handle }}",
    "available":{{ product.available }},
    "image":"{{ product.featured_image }}",
    "variant":[
        {% for variant in product.variants %}
            {
                "id":{{ variant.id }},
                "price":{{ product.price }},
                "compare_at_price":{{ product.compare_at_price }}
            }
        {% unless forloop.last %},{% endunless %}
        {% endfor %}
    ]
}

<script>
    fetch('/products/{{ product.handle }}?view=ajax',{
        headers : { 
            'Content-Type': 'application/json',
            'Accept': 'application/json'
        }
    })
    .then(res => {
        return res.json();
    }) 
    .then(data => {
        console.log(data);
    }) 

</script>
